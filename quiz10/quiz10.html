<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>JSON: Task 1</title>
    <style>
      p {
        color: purple;
        margin: 0.5em 0;
      }

      * {
        box-sizing: border-box;
      }
    </style>
    <link rel="stylesheet" href="../styles.css" />
  </head>

  <body>

    <section class="preview">



    </section>

  </body>
  <script>
    const section = document.querySelector('section');

    let para1 = document.createElement('p');
    let para2 = document.createElement('p');
    let motherInfo = 'The mother cats are called ';
    let kittenInfo;
    const requestURL = 'https://mdn.github.io/learning-area/javascript/oojs/tasks/json/sample.json';

    fetch(requestURL)
    .then(response => response.text())
    .then(text => displayCatInfo(text))

    function displayCatInfo(catString) {
      let total = 0;
      let male = 0;

      // Add your code here
      const c = JSON.parse(catString); //links the json file to the html
      //const k; 
      
      for (let i = 0; i < cats.length; i++){

        for(const k of c[i].kittens){ //counting number of kittens in array
          total++

          if(kitten.gender === 'm'){ // if the cat is a 'm' aka male, add one to male variable
            male++;
          }

        }

        if(i < c.length - 1){ //start at 0 and go to the end (that's why it's -1 we want the array to start at index 0)
          motherInfo += `${c[i].name},`; //adds on the name of the cat to the mother info
        }
        else{ // goes back and forth so it goes namex, and namey. namez, and namew. 
          motherInfo += ` and ${c[i].name}. `;
        }

      }


      kittenInfo = `There is ${male} boy kittens and ${total - male} girl kittens`;
      // Don't edit the code below here!

      para1.textContent = motherInfo;
      para2.textContent = kittenInfo;
    }

    section.appendChild(para1);
    section.appendChild(para2);
  </script>

</html>


  <!-- const catString = [
{
    "name" : "Lindy",
    "breed" : "Cymric",
    "color" : "white",
    "kittens" : [
    {
        "name" : "Percy",
        "gender" : "m"
    },
    {
        "name" : "Thea",
        "gender" : "f"
    },
    {
        "name" : "Annis",
        "gender" : "f"
    }
    ]
},
{
    "name" : "Mina",
    "breed" : "Aphrodite Giant",
    "color" : "ginger",
    "kittens" : [
    {
        "name" : "Doris",
        "gender" : "f"
    },
    {
        "name" : "Pickle",
        "gender" : "f"
    },
    {
        "name" : "Max",
        "gender" : "m"
    }
    ]
},
{
    "name" : "Antonia",
    "breed" : "Ocicat",
    "color" : "leopard spotted",
    "kittens" : [
    {
        "name" : "Bridget",
        "gender" : "f"
    },
    {
        "name" : "Randolph",
        "gender" : "m"
    }
    ]
}
] -->